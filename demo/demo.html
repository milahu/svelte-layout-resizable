<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <title>svelte-layout-resizable-demo</title> <style>html, body{ position:relative;width:100%;height:100%;}body{ color:#333;margin:0;padding:8px;box-sizing:border-box;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;}a{ color:rgb(0,100,200);text-decoration:none;}a:hover{ text-decoration:underline;}a:visited{ color:rgb(0,80,160);}label{ display:block;}input, button, select, textarea{ font-family:inherit;font-size:inherit;-webkit-padding:0.4em 0;padding:0.4em;margin:0 0 0.5em 0;box-sizing:border-box;border:1px solid #ccc;border-radius:2px;}input:disabled{ color:#ccc;}button{ color:#333;background-color:#f4f4f4;outline:none;}button:disabled{ color:#999;}button:not(:disabled):active{ background-color:#ddd;}button:focus{ border-color:#666;}</style> <style>body{--layoutBorderColor:#a8a8a8;--layoutBorderWidth:0.5px;--layoutPadding:2.5px}body{padding:0}.layout-cell>.middle>.center{overflow:auto;display:flex;justify-content:center;align-items:center}.layout-cell>*>.frame{border:solid var(--layoutBorderWidth) var(--layoutBorderColor)}.layout-cell>*, .layout-cell>*>.frame{flex-basis:var(--layoutPadding) !important}.layout-cell>.middle>.center.overflow-hidden{overflow:hidden !important}.layout-row.custom-row-container{color:orange}body{--handleSize:1px;--handlePadding:4px;--handleColor:gray;--cellFrame:4px}.layout-column-resizer{height:var(--handleSize) !important;background-color:var(--handleColor);flex-basis:var(--handleSize);flex-shrink:0;flex-grow:0;cursor:row-resize;margin:0;background-clip:content-box;padding-top:var(--handlePadding)}.layout-row-resizer{width:var(--handleSize) !important;background-color:var(--handleColor);flex-basis:var(--handleSize);flex-shrink:0;flex-grow:0;cursor:col-resize;margin:0;background-clip:content-box;padding-left:var(--handlePadding)}body.--layout-is-moving,body.--layout-is-moving *{user-select:none !important}.layout-column.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{display:flex;flex-direction:column;align-items:stretch;align-content:stretch}.layout-column.layout-reverse.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{flex-direction:column-reverse}.layout-row.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{display:flex;flex-direction:row;align-items:stretch;align-content:stretch}.layout-row.layout-reverse.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{flex-direction:row-reverse}.layout-cell.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{display:flex;flex-direction:column;align-items:stretch;align-content:stretch}.top.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd,.bottom.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{flex-basis:var(--cellFrame);flex-shrink:0;cursor:row-resize}.left.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd,.right.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{flex-basis:var(--cellFrame);flex-shrink:0;cursor:col-resize}.top.svelte-ebvzfd.svelte-ebvzfd>.left.svelte-ebvzfd.svelte-ebvzfd{cursor:nw-resize }.top.svelte-ebvzfd.svelte-ebvzfd>.right.svelte-ebvzfd.svelte-ebvzfd{cursor:ne-resize }.bottom.svelte-ebvzfd.svelte-ebvzfd>.right.svelte-ebvzfd.svelte-ebvzfd{cursor:se-resize }.bottom.svelte-ebvzfd.svelte-ebvzfd>.left.svelte-ebvzfd.svelte-ebvzfd{cursor:sw-resize }.center.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd,.middle.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{flex-grow:1}.top.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd,.middle.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd,.bottom.svelte-ebvzfd.svelte-ebvzfd.svelte-ebvzfd{display:flex;align-items:stretch;align-content:stretch;flex-direction:row}.layout-cell.svelte-ebvzfd>.middle.svelte-ebvzfd>.center.svelte-ebvzfd{width:100%;height:100%}.layout-cell.svelte-ebvzfd.svelte-ebvzfd>.middle.svelte-ebvzfd.svelte-ebvzfd{overflow:auto}.layout-cell.svelte-ebvzfd>.svelte-ebvzfd>.frame.svelte-ebvzfd{box-sizing:border-box}.layout-cell.svelte-ebvzfd>.middle.svelte-ebvzfd>.left.svelte-ebvzfd{border-top:none;border-right:none;border-bottom:none}.layout-cell.svelte-ebvzfd>.middle.svelte-ebvzfd>.right.svelte-ebvzfd{border-top:none;border-left:none;border-bottom:none}.layout-cell.svelte-ebvzfd>.top.svelte-ebvzfd>.center.svelte-ebvzfd{border-bottom:none;border-left:none;border-right:none}.layout-cell.svelte-ebvzfd>.bottom.svelte-ebvzfd>.center.svelte-ebvzfd{border-top:none;border-left:none;border-right:none}.layout-cell.svelte-ebvzfd>.bottom.svelte-ebvzfd>.left.svelte-ebvzfd{border-top:none;border-right:none}.layout-cell.svelte-ebvzfd>.bottom.svelte-ebvzfd>.right.svelte-ebvzfd{border-top:none;border-left:none}.layout-cell.svelte-ebvzfd>.top.svelte-ebvzfd>.left.svelte-ebvzfd{border-bottom:none;border-right:none}.layout-cell.svelte-ebvzfd>.top.svelte-ebvzfd>.right.svelte-ebvzfd{border-bottom:none;border-left:none}</style> </head> <body> </body> <script>var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,o){if(t){const s=i(t,e,n,o);return t[0](s)}}function i(t,n,o,s){return t[1]&&s?e(o.ctx.slice(),t[1](s(n))):o.ctx}function f(t,e,n,o,s,r,l){const c=function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(e,o,s,r);if(c){const s=i(e,n,o,l);t.p(s,c)}}function u(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function a(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function v(){return p(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:y(t,o,e[o])}function b(t,e,n){t.classList[n?"add":"remove"](e)}let w;function x(t){w=t}const _=[],z=[],L=[],N=[],E=Promise.resolve();let T=!1;function k(t){L.push(t)}let O=!1;const M=new Set;function j(){if(!O){O=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];x(e),A(e.$$)}for(_.length=0;z.length;)z.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];M.has(e)||(M.add(e),e())}L.length=0}while(_.length);for(;N.length;)N.pop()();T=!1,O=!1,M.clear()}}function A(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const C=new Set;let H;function S(t,e){t&&t.i&&(C.delete(t),t.i(e))}function W(t,e,n,o){if(t&&t.o){if(C.has(t))return;C.add(t),H.c.push(()=>{C.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const X="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Y(t,e){const n={},o={},s={$$scope:1};let r=t.length;for(;r--;){const l=t[r],c=e[r];if(c){for(const t in l)t in c||(o[t]=1);for(const t in c)s[t]||(n[t]=c[t],s[t]=1);t[r]=c}else for(const t in l)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function P(t){t&&t.c()}function B(t,e,o){const{fragment:l,on_mount:c,on_destroy:i,after_update:f}=t.$$;l&&l.m(e,o),k(()=>{const e=c.map(n).filter(r);i?i.push(...e):s(e),t.$$.on_mount=[]}),f.forEach(k)}function D(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(_.push(t),T||(T=!0,E.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,n,r,l,c,i,f=[-1]){const u=w;x(e);const a=n.props||{},d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:f,skip_bound:!1};let m=!1;if(d.ctx=r?r(e,a,(t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),m&&I(e,t)),n}):[],d.update(),m=!0,s(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();n.intro&&S(e.$$.fragment),B(e,n.target,n.anchor),j()}x(u)}class F{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{document:G}=X;function J(t){let n,o,r,l,i,u,p,w,x,_,z,L,N,E,T,k,O,M,j,A,C,H,X,P;const B=t[11].default,D=c(B,t,t[10],null);let I=[{style:t[3]},t[7]],q={};for(let t=0;t<I.length;t+=1)q=e(q,I[t]);return{c(){n=m("div"),o=m("div"),r=m("div"),l=v(),i=m("div"),u=v(),p=m("div"),w=v(),x=m("div"),_=m("div"),z=v(),L=m("div"),D&&D.c(),N=v(),E=m("div"),T=v(),k=m("div"),O=m("div"),M=v(),j=m("div"),A=v(),C=m("div"),y(r,"class","frame left svelte-ebvzfd"),y(i,"class","frame center svelte-ebvzfd"),y(p,"class","frame right svelte-ebvzfd"),y(o,"class","top svelte-ebvzfd"),y(_,"class","frame left svelte-ebvzfd"),h(L,q),b(L,"center",!0),b(L,"svelte-ebvzfd",!0),y(E,"class","frame right svelte-ebvzfd"),y(x,"class","middle svelte-ebvzfd"),y(O,"class","frame left svelte-ebvzfd"),y(j,"class","frame center svelte-ebvzfd"),y(C,"class","frame right svelte-ebvzfd"),y(k,"class","bottom svelte-ebvzfd"),y(n,"class","layout-cell svelte-ebvzfd"),y(n,"style",t[4])},m(e,s){d(e,n,s),a(n,o),a(o,r),a(o,l),a(o,i),a(o,u),a(o,p),a(n,w),a(n,x),a(x,_),a(x,z),a(x,L),D&&D.m(L,null),a(x,N),a(x,E),a(n,T),a(n,k),a(k,O),a(k,M),a(k,j),a(k,A),a(k,C),H=!0,X||(P=[g(r,"mousedown",t[5]),g(i,"mousedown",t[5]),g(p,"mousedown",t[5]),g(_,"mousedown",t[5]),g(E,"mousedown",t[5]),g(O,"mousedown",t[5]),g(j,"mousedown",t[5]),g(C,"mousedown",t[5])],X=!0)},p(t,e){D&&D.p&&1024&e&&f(D,B,t,t[10],e,null,null),h(L,q=Y(I,[(!H||8&e)&&{style:t[3]},128&e&&t[7]])),b(L,"center",!0),b(L,"svelte-ebvzfd",!0),(!H||16&e)&&y(n,"style",t[4])},i(t){H||(S(D,t),H=!0)},o(t){W(D,t),H=!1},d(t){t&&$(n),D&&D.d(t),X=!1,s(P)}}}function K(t){let n,o,s;const r=t[11].default,l=c(r,t,t[10],null);let i=[{style:o=t[4]+t[3]},t[7]],u={};for(let t=0;t<i.length;t+=1)u=e(u,i[t]);return{c(){n=m("div"),l&&l.c(),h(n,u),b(n,"layout-column",t[1]),b(n,"layout-row",t[0]),b(n,"layout-reverse",t[2]),b(n,"svelte-ebvzfd",!0)},m(t,e){d(t,n,e),l&&l.m(n,null),s=!0},p(t,e){l&&l.p&&1024&e&&f(l,r,t,t[10],e,null,null),h(n,u=Y(i,[(!s||24&e&&o!==(o=t[4]+t[3]))&&{style:o},128&e&&t[7]])),b(n,"layout-column",t[1]),b(n,"layout-row",t[0]),b(n,"layout-reverse",t[2]),b(n,"svelte-ebvzfd",!0)},i(t){s||(S(l,t),s=!0)},o(t){W(l,t),s=!1},d(t){t&&$(n),l&&l.d(t)}}}function Q(t){let e,n,o,r,l,c,i;const f=[K,J],u=[];function a(t,e){return t[1]||t[0]?0:1}return n=a(t),o=u[n]=f[n](t),{c(){e=v(),o.c(),r=p("")},m(o,s){d(o,e,s),u[n].m(o,s),d(o,r,s),l=!0,c||(i=[g(G.body,"mouseup",t[6]),g(G.body,"mouseleave",t[6]),g(G.body,"touchend",t[6])],c=!0)},p(t,[e]){let l=n;n=a(t),n===l?u[n].p(t,e):(H={r:0,c:[],p:H},W(u[l],1,1,()=>{u[l]=null}),H.r||s(H.c),H=H.p,o=u[n],o||(o=u[n]=f[n](t),o.c()),S(o,1),o.m(r.parentNode,r))},i(t){l||(S(o),l=!0)},o(t){W(o),l=!1},d(t){t&&$(e),u[n].d(t),t&&$(r),c=!1,s(i)}}}function R(t){const e=String(t).slice(-1);return String(parseInt(e,10))==e}function U(t,n,o){const s=["row","column","reverse","size","style","overflow"];let r=u(n,s),{row:l=!1}=n,{column:c=!1}=n,{reverse:i=!1}=n,{size:f=!1}=n,{style:a=""}=n,{overflow:d="auto"}=n,$=null,m=null,p=null,v=null,g="",y=0,h=0,b=null,w=null,x=null,_=null,z="";let L,{$$slots:N={},$$scope:E}=n;return t.$$set=t=>{n=e(e({},n),function(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}(t)),o(7,r=u(n,s)),"row"in t&&o(0,l=t.row),"column"in t&&o(1,c=t.column),"reverse"in t&&o(2,i=t.reverse),"size"in t&&o(8,f=t.size),"style"in t&&o(3,a=t.style),"overflow"in t&&o(9,d=t.overflow),"$$scope"in t&&o(10,E=t.$$scope)},t.$$.update=()=>{256&t.$$.dirty&&o(4,L=["width:100%;height:100%;",f?`flex-basis:${R(f)?100*f+"%":f};`:"","overflow:auto;"].join(""))},[l,c,i,a,L,function(t){const e=t.target;y=t.clientX,h=t.clientY,b=e,x=e.parentNode.parentNode;const n=b.classList,o=b.parentNode.classList;console.log("hcl =",n),_=x,v=x.parentNode;const s=n.contains("right"),r=n.contains("left"),l=o.contains("top"),c=(o.contains("bottom"),r||s?"layout-row":"layout-column");for(z="layout-column"==c?"offsetHeight":"offsetWidth";v&&_&&!v.classList.contains(c);)_=_.parentElement,v=v.parentElement;if(!v)return void console.log("error. activeMoveParent not found");if(!_)return void console.log("error. activeMoveCell_real not found");console.log("found activeMoveParent",v.className),console.log("found activeMoveCell_real",_.className),document.body.classList.add("--layout-is-moving"),$="m"==t.type[0]?"mousemove":"touchmove",m=e.cloneNode(!0);const i=m.style;i.position="absolute",i.zIndex=10,document.body.appendChild(m),g=v.style.overflow,v.style.overflow="hidden","layout-column"==c?(w=!0,console.log("add marginTop",l?e.offsetHeight:0),i.marginTop=e.offsetTop-(l?e.offsetHeight:0)+.5-t.clientY+"px",i.left=v.offsetLeft+"px",i.top=t.clientY+"px",i.height=e.offsetHeight+"px",i.width=v.offsetWidth+"px",m.className="layout-column-resizer",p=function(t){i.top=t.clientY+"px"}):(w=!1,m.className="layout-row-resizer",console.log("add marginLeft",r?e.offsetWidth:0),i.marginLeft=e.offsetLeft-(r?e.offsetWidth:0)+.5-t.clientX+"px",i.top=v.offsetTop+"px",i.left=t.clientX+"px",i.height=v.offsetHeight+"px",i.width=e.offsetWidth+"px",p=function(t){i.left=t.clientX+"px"}),document.addEventListener($,p)},function(t){if(!p)return;document.body.classList.remove("--layout-is-moving");const e=t.clientX-y,n=t.clientY-h,o=w?n:e;if(document.body.removeChild(m),m=null,v.style.overflow=g,document.removeEventListener($,p),p=null,"mouseleave"==t.type)return;const s=b.classList,r=b.parentNode.classList,l=(v[z],Array.from(v.children)),c=l[0],i=l.slice(-1)[0];let f=l.map(t=>t[z]),u=f.reduce((t,e)=>t+e,0),a=l.indexOf(_);const d=s.contains("right"),x=s.contains("left"),L=r.contains("top"),N=r.contains("bottom");if(_==c&&(x||L)||_==i&&(d||N))console.log("TODO resize from container start/end"),u+=o;else{let t=0,e=0;x||L?(t=a-1,e=a):(t=a,e=a+1),f[t]+=o,f[e]-=o;for(let[t,e]of l.entries())e.style.flexBasis=Math.round(f[t]/u*100)+"%"}},r,f,d,E,N]}class V extends F{constructor(t){super(),q(this,t,U,Q,l,{row:0,column:1,reverse:2,size:8,style:3,overflow:9})}}function Z(t){let e;return{c(){e=p("cell 1 in row")},m(t,n){d(t,e,n)},d(t){t&&$(e)}}}function tt(t){let e;return{c(){e=p("cell 2.1 in column")},m(t,n){d(t,e,n)},d(t){t&&$(e)}}}function et(t){let e;return{c(){e=p("cell 2.2 in column")},m(t,n){d(t,e,n)},d(t){t&&$(e)}}}function nt(t){let e;return{c(){e=p("cell 2.3 in column")},m(t,n){d(t,e,n)},d(t){t&&$(e)}}}function ot(t){let e,n,o,s,r,l;return e=new V({props:{$$slots:{default:[tt]},$$scope:{ctx:t}}}),o=new V({props:{$$slots:{default:[et]},$$scope:{ctx:t}}}),r=new V({props:{$$slots:{default:[nt]},$$scope:{ctx:t}}}),{c(){P(e.$$.fragment),n=v(),P(o.$$.fragment),s=v(),P(r.$$.fragment)},m(t,c){B(e,t,c),d(t,n,c),B(o,t,c),d(t,s,c),B(r,t,c),l=!0},p(t,n){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const c={};1&n&&(c.$$scope={dirty:n,ctx:t}),r.$set(c)},i(t){l||(S(e.$$.fragment,t),S(o.$$.fragment,t),S(r.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),W(o.$$.fragment,t),W(r.$$.fragment,t),l=!1},d(t){D(e,t),t&&$(n),D(o,t),t&&$(s),D(r,t)}}}function st(t){let e;return{c(){e=p("cell 3 in row")},m(t,n){d(t,e,n)},d(t){t&&$(e)}}}function rt(t){let e,n,o,s,r,l;return e=new V({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),o=new V({props:{column:!0,$$slots:{default:[ot]},$$scope:{ctx:t}}}),r=new V({props:{$$slots:{default:[st]},$$scope:{ctx:t}}}),{c(){P(e.$$.fragment),n=v(),P(o.$$.fragment),s=v(),P(r.$$.fragment)},m(t,c){B(e,t,c),d(t,n,c),B(o,t,c),d(t,s,c),B(r,t,c),l=!0},p(t,n){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const l={};1&n&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const c={};1&n&&(c.$$scope={dirty:n,ctx:t}),r.$set(c)},i(t){l||(S(e.$$.fragment,t),S(o.$$.fragment,t),S(r.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),W(o.$$.fragment,t),W(r.$$.fragment,t),l=!1},d(t){D(e,t),t&&$(n),D(o,t),t&&$(s),D(r,t)}}}function lt(t){let e,n;return e=new V({props:{row:!0,$$slots:{default:[rt]},$$scope:{ctx:t}}}),{c(){P(e.$$.fragment)},m(t,o){B(e,t,o),n=!0},p(t,[n]){const o={};1&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}return new class extends F{constructor(t){super(),q(this,t,null,lt,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map</script> </html> 
